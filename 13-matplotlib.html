<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Data Analysis and Visualization with Python for Social Scientists *alpha*: Data visualisation using Matplotlib</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav data"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Data Carpentry" src="assets/images/data-logo.svg"><abbr class="badge badge-light" title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback." style="background-color: #FFC700; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link" style="color: #383838">
            <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
            Alpha
          </a>
          <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/13-matplotlib.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Data Analysis and Visualization with Python for Social Scientists *alpha*
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Data Analysis and Visualization with Python for Social Scientists *alpha*
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Data Analysis and Visualization with Python for Social Scientists *alpha*
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 80%" class="percentage">
    80%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 80%" aria-valuenow="80" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/13-matplotlib.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Introduction to Python</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-basics.html">2. Python basics</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-control-structures.html">3. Python control structures</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-reusable.html">4. Creating re-usable code</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-processing-data-from-file.html">5. Processing data from a file</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-date-and-time.html">6. Dates and Time</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-json.html">7. Processing JSON data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="08-Pandas.html">8. Reading data from a file using Pandas</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09-extracting-data.html">9. Extracting row and columns</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="10-aggregations.html">10. Data Aggregation using Pandas</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="11-joins.html">11. Joining Pandas Dataframes</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush13">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading13">
        <a href="12-long-and-wide.html">12. Wide and long data formats</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        13. Data visualisation using Matplotlib
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#plotting-in-python">Plotting in Python</a></li>
<li><a href="#plotting-with-pandas">Plotting with Pandas</a></li>
<li><a href="#scatter-plot">Scatter plot</a></li>
<li><a href="#boxplot">Boxplot</a></li>
<li><a href="#fine-tuning-figures-with-matplotlib">Fine-tuning figures with Matplotlib</a></li>
<li><a href="#customising-our-plots-with-matplotlib">Customising our plots with Matplotlib</a></li>
<li><a href="#saving-a-graph">Saving a graph</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush15">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading15">
        <a href="14-sqlite.html">14. Accessing SQLite Databases</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="reference.html">Glossary</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="12-long-and-wide.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="14-sqlite.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="12-long-and-wide.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Wide and long data
        </a>
        <a class="chapter-link float-end" href="14-sqlite.html" rel="next">
          Next: Accessing SQLite... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Data visualisation using Matplotlib</h1>
        <p>Last updated on 2023-05-04 |
        
        <a href="https://github.com/datacarpentry/python-socialsci/edit/main/episodes/13-matplotlib.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How can I create visualisations of my data?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Create simple plots using pandas</li>
<li>Import pyplot from the matplotlib library</li>
<li>Customise plots using pyplot</li>
</ul></div>
</div>
</div>
</div>
</div>
<section id="plotting-in-python"><h2 class="section-heading">Plotting in Python<a class="anchor" aria-label="anchor" href="#plotting-in-python"></a>
</h2>
<hr class="half-width"><p>There is a wide variety of ways to plot in Python, like many
programming languages. Some do more of the design work for you and
others let you customize the look of the plots and all of the little
details yourself. <a href="https://pandas.pydata.org/" class="external-link">Pandas</a> has
basic plots built into it that reduce the amount of syntax, if your data
is already in a DataFrame. <a href="https://matplotlib.org/" class="external-link">Matplotlib</a>. is a Python graphical
library that can be used to produce a variety of different graph types,
it is fully controllable down to basic elements and includes a module
<code>pylab</code> that is somewhere in between (designed to feel like
MATLAB plotting, if you happen to have done that before).</p>
<p>The Matplotlib library can be imported using any of the import
techniques we have seen. As Pandas is generally imported with
<code>import pandas as pd</code>, you will find that Matplotlib is most
commonly imported with <code>import matplotlib as plt</code> where ‘plt’
is the alias.</p>
<p>In addition to importing the library, in a Jupyter notebook
environment we need to tell Jupyter that when we produce a graph, we
want it to be display the graph in a cell in the notebook just like any
other results. To do this we use the <code>%matplotlib inline</code>
directive.</p>
<p>Although we are using Matplotlib in this episode, Pandas can make use
of several other graphical libraries available from within Python such
as <a href="https://ggplot2.tidyverse.org/" class="external-link">ggplot2</a> and <a href="https://seaborn.pydata.org/" class="external-link">Seaborn</a>. Seaborn has some very
powerful features and advanced plot types. One of its most useful
features is formatting.</p>
</section><section id="plotting-with-pandas"><h2 class="section-heading">Plotting with Pandas<a class="anchor" aria-label="anchor" href="#plotting-with-pandas"></a>
</h2>
<hr class="half-width"><p>The Pandas library contains very tight integration with Matplotlib.
There are functions in Pandas that automatically call Matplotlib
functions to produce graphs.</p>
<p>To plot with Pandas we have to import it as we have done in past
episodes. To tell Jupyter that when we produce a graph we want it to be
displayed in a cell in the notebook just like any other results, we use
the <code>%matplotlib inline</code> directive. Without that we need to
do a <code>show()</code> command.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span></code></pre>
</div>
<p>We also need data to work with loaded into a DataFrame and it’s
helpful to look at a few rows to remember what’s there.</p>
<p>We are going to use the dataset from the setup page,
<code>SAFI_full_shortname.csv</code>. For the data to load, <strong>make
sure to have that file in the same folder where your Jupyter notebook is
running.</strong> If the file is not in that folder, you are going to
have to type the full path.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"SAFI_full_shortname.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>df.head()</span></code></pre>
</div>
<p>Next, we can plot the a histogram of a variable.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>df[<span class="st">'years_liv'</span>].hist()</span></code></pre>
</div>
<figure><img src="fig/histogram1.png" alt="Histogram of years lived spotlighting how to plot a variable with Pandas" class="figure mx-auto d-block"></figure><p>We can change the number of bins to make it look how we would like,
for example</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>df[<span class="st">'years_liv'</span>].hist(bins<span class="op">=</span><span class="dv">20</span>)</span></code></pre>
</div>
<p>We can also specify the column as a parameter and a groupby column
with the <code>by</code> keyword. there are a lot of keywords available
to make it look better, we can see some of the most likely ones (as
decided by Pandas developers) by using <kbd>shift</kbd> + <kbd>tab<kbd>
.</kbd></kbd></p>
<p>Lets try <code>layout</code>, <code>figsize</code>, and
<code>sharex</code>.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>df.hist(column<span class="op">=</span><span class="st">'years_liv'</span>,by<span class="op">=</span><span class="st">'village'</span>,layout<span class="op">=</span>(<span class="dv">1</span>,<span class="dv">3</span>),figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">3</span>),sharex<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<figure><img src="fig/histogram3.png" alt="Three separate histograms depicting the number of years lived by village; Chirodzo, God, Ruaca" class="figure mx-auto d-block"></figure></section><section id="scatter-plot"><h2 class="section-heading">Scatter plot<a class="anchor" aria-label="anchor" href="#scatter-plot"></a>
</h2>
<hr class="half-width"><p>The scatter plot requires the x and y coordinates of each of the
points being plotted. We can add a third dimension as different colors
with the <code>c</code> argument.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>df.plot.scatter(x<span class="op">=</span><span class="st">'gps_Latitude'</span>, y<span class="op">=</span><span class="st">'gps_Longitude'</span>, c<span class="op">=</span><span class="st">'gps_Altitude'</span>, colormap<span class="op">=</span><span class="st">"viridis"</span>, figsize<span class="op">=</span>[<span class="dv">4</span>,<span class="dv">4</span>])</span></code></pre>
</div>
<figure><img src="fig/scatter1.png" alt="png" class="figure mx-auto d-block"></figure><div id="exercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise<a class="anchor" aria-label="anchor" href="#exercise"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>Make a scatter plot of <code>years_farm</code> vs
<code>years_liv</code> and color the points by
<code>buildings_in_compound</code>
</li>
<li>Make a bar plot of the mean number of rooms per wall type</li>
</ol><p>Compare the two graphs we have just drawn. How do they differ? Are
the differences significant?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Most importantly the data in the graphs is the same. There are
cosmetic differences in the scale points in the x and y axis and in the
width of the bars.</p>
<p>The width of the bars can be changed with a parameter in the ‘bar’
function</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>plt.bar(<span class="bu">range</span>(<span class="bu">len</span>(s)), s, width <span class="op">=</span> <span class="fl">0.5</span>)   <span class="co"># the default width is 0.8</span></span></code></pre>
</div>
<p>Extension: try plotting by wall and roof type?</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Show me the solution</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>For the scatter plot:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>df.plot.scatter(x <span class="op">=</span> <span class="st">'years_liv'</span>, y <span class="op">=</span> <span class="st">'years_farm'</span>, c <span class="op">=</span> <span class="st">'buildings_in_compound'</span>, colormap <span class="op">=</span> <span class="st">'viridis'</span>)</span></code></pre>
</div>
<figure><img src="fig/scatter2.png" alt="png" class="figure mx-auto d-block"></figure><p>For the barplot: we first need to calculate the mean value of rooms
per wall type, then we can make the plot.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>rooms_mean <span class="op">=</span> df.groupby(<span class="st">'respondent_wall_type'</span>).mean()[<span class="st">'rooms'</span>]</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>rooms_mean.plot.bar()</span></code></pre>
</div>
<figure><img src="fig/barplot1.png" alt="png" class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
</section><section id="boxplot"><h2 class="section-heading">Boxplot<a class="anchor" aria-label="anchor" href="#boxplot"></a>
</h2>
<hr class="half-width"><p>A boxplot provides a simple representation of a variety of
statistical qualities of a single set of data values. A common use of
the boxplot is to compare the statistical variations across a set of
variables.</p>
<p>The variables can be an independent series or columns of a Dataframe
using the Pandas plot method</p>
<pre><code>df.boxplot(by ='village',column=['buildings_in_compound'])</code></pre>
<p>{:.language-python}</p>
<figure><img src="fig/boxplot1.png" alt="png" class="figure mx-auto d-block"></figure><p>We can make it look prettier with Seaborn, much more easily than
fixing components manually with Matplotlib. <a href="https://seaborn.pydata.org" class="external-link">Seaborn</a> is a Python data
visualization library based on Matplotlib. It provides a high-level
interface for drawing attractive and informative statistical graphics.
Seaborn comes with Anaconda; to make it available in our Python session
we need to import it.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>sns.boxplot(data <span class="op">=</span> df, x <span class="op">=</span> <span class="st">'village'</span>, y <span class="op">=</span> <span class="st">'buildings_in_compound'</span>)</span></code></pre>
</div>
<figure><img src="fig/boxplot2.png" alt="png" class="figure mx-auto d-block"></figure><p>We can also draw linear models in a plot using <code>lmplot()</code>
from <code>seaborn</code>, e.g. for <code>years_farm</code> vs
<code>years_liv</code> per <code>village</code>.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>sns.lmplot(x<span class="op">=</span><span class="st">'years_farm'</span>, y<span class="op">=</span><span class="st">'years_liv'</span>,data<span class="op">=</span>df,hue<span class="op">=</span><span class="st">'village'</span>)</span></code></pre>
</div>
<figure><img src="fig/lm1.png" alt="Plot showing years lived and years farmed by village to spotlight the use of linear models" class="figure mx-auto d-block"></figure><p>In general, most graphs can be broken down into a series of elements
which, although typically related in some way, can all exist
independently of each other. This allows us to create the graph in a
rather piecemeal fashion.</p>
<p>The labels (if any) on the x and y axis are independent of the data
values being represented. The title and the legend are also independent
objects within the overall graph.</p>
<p>In Matplotlib you create the graph by providing values for all of the
individual components you choose to include. When you are ready, you
call the <code>show</code> function.</p>
<p>Using this same approach, we can plot two sets of data on the same
graph.</p>
<p>We will use a scatter plot to demonstrate some of the available
features.</p>
</section><section id="fine-tuning-figures-with-matplotlib"><h2 class="section-heading">Fine-tuning figures with Matplotlib<a class="anchor" aria-label="anchor" href="#fine-tuning-figures-with-matplotlib"></a>
</h2>
<hr class="half-width"><p>If we want to do more advanced or lower level things with our plots,
we need to use Matplotlib directly, not through Pandas. First we need to
import it.</p>
</section><section id="customising-our-plots-with-matplotlib"><h2 class="section-heading">Customising our plots with Matplotlib<a class="anchor" aria-label="anchor" href="#customising-our-plots-with-matplotlib"></a>
</h2>
<hr class="half-width"><p>We can further customise our plots with Matplotlib directly. First we
need to import it. The Matplotlib library can be imported using any of
the import techniques we have seen. As Pandas is generally imported with
<code>import pandas as pd</code>, you will find that
<code>matplotlib</code> is most commonly imported with
<code>import matplotlib.pyplot as plt</code> where <code>plt</code> is
the alias. For demonstration purposes, we are going to use randomly
generated data, using the NumPy library (aliased here as
<code>np</code>).</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="co"># Generate some date for 2 sets of points.</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>x1 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">-</span> <span class="fl">0.5</span>)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>y1 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">-</span> <span class="fl">0.5</span>)</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>x2 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">+</span> <span class="fl">0.5</span>)</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>y2 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">+</span> <span class="fl">0.5</span>)</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="co"># Add some features</span></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a>plt.title(<span class="st">'Scatter Plot'</span>)</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>plt.ylabel(<span class="st">'Range of y values'</span>)</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a>plt.xlabel(<span class="st">'Range of x values'</span>)</span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a><span class="co"># plot the points in a scatter plot</span></span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a>plt.scatter(x1, y1, c<span class="op">=</span><span class="st">'red'</span>, label<span class="op">=</span><span class="st">'Red Range'</span>)  <span class="co"># 'c' parameter is the colour and 'label' is the text for the legend</span></span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a>plt.scatter(x2, y2, c<span class="op">=</span><span class="st">'blue'</span>, label<span class="op">=</span><span class="st">'Blue Range'</span>)</span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a></span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">4</span>)  <span class="co"># the locations 1,2,3 and 4 are top-right, top-left, bottom-left and bottom-right</span></span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a><span class="co"># Show the graph with the two sets of points</span></span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<p>In the call to the <code>scatter</code> method, the
<code>label</code> parameter values are used by the <em>legend</em>. The
<code>c</code> or <code>color</code> parameter can be set to any color
Matplotlib recognises. Full details of the available colours are
available in the <a href="https://matplotlib.org/api/colors_api.html" class="external-link">Matplotlib</a>
website. The <a href="https://matplotlib.org/api/markers_api.html" class="external-link">markers</a> section
will tell you what markers you can use instead of the default ‘dots’.
There is also an <code>s</code> (size) parameter which allows you to
change the size of the marker.</p>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise<a class="anchor" aria-label="anchor" href="#exercise-1"></a>
</h3>
<div class="callout-content">
<p>In the scatterplot the s parameter determines the size of the dots. s
can be a simple numeric value, say s=100, which will produce dots all of
the same size. However, you can pass a list of values (or a Pandas
Series) to provide sizes for the individual dots. This approach is very
common as it allows us to provide an extra variable worth of information
on the graph.</p>
<ol style="list-style-type: decimal"><li><p>Modify the code we used for the scatter plot to include a size
value for each of the points in the series being plotted. (The downside
is that some of the smaller dots may be completely covered by the larger
dots. To try and highlight when this has happened, we can change the
opacity of the dots.)</p></li>
<li><p>Find out which parameter controls the opacity of the dots (clue -
it is not called opacity), add it to you code and set it &gt; to a
reasonable value.</p></li>
</ol></div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">Show me the solution</h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Generate some data for 2 sets of points.</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="co"># and additional data for the sizes - suitably scaled</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>x1 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">-</span> <span class="fl">0.5</span>)</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>y1 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">-</span> <span class="fl">0.5</span>)</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>z1 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">*</span> <span class="dv">200</span>)</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>x2 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">+</span> <span class="fl">0.5</span>)</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>y2 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">+</span> <span class="fl">0.5</span>)</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>z2 <span class="op">=</span> pd.Series(np.random.rand(<span class="dv">20</span>) <span class="op">*</span> <span class="dv">200</span>)</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="co"># Add some features</span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>plt.title(<span class="st">'Scatter Plot'</span>)</span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>plt.ylabel(<span class="st">'Range of y values'</span>)</span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a>plt.xlabel(<span class="st">'Range of x values'</span>)</span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a><span class="co"># plot the points in a scatter plot</span></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a>plt.scatter(x1, y1, c<span class="op">=</span><span class="st">'red'</span>, label<span class="op">=</span><span class="st">'Red Range'</span>, s<span class="op">=</span>z1, alpha<span class="op">=</span><span class="fl">0.5</span>)  <span class="co"># 's' parameter is the dot size</span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a>plt.scatter(x2, y2, c<span class="op">=</span><span class="st">'blue'</span>, label<span class="op">=</span><span class="st">'Blue Range'</span>, s<span class="op">=</span>z2, alpha<span class="op">=</span><span class="fl">0.5</span>) <span class="co"># 'alpha' is the opacity</span></span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a></span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Internally the Pandas ‘plot’ method has called the ‘bar’ method of
Matplotlib and provided a set of parameters, including the pandas.Series
s to generate the graph.</p>
<p>We can use Matplotlib directly to produce a similar graph. In this
case we need to pass two parameters, the number of bars we need and the
Pandas Series holding the values.</p>
<p>Let’s redo the boxplot we did above:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>df.boxplot(column <span class="op">=</span> <span class="st">'buildings_in_compound'</span>, by <span class="op">=</span> <span class="st">'village'</span>)</span></code></pre>
</div>
<figure><img src="fig/boxplot1.png" alt="png" class="figure mx-auto d-block"></figure><p>The automatic title of the plot does not look good, we are missing a
title for the y-axis and we do not need the extra x-axis title. We can
also remove the gridlines. Let’s fix these things using functions from
<code>plt</code>. Note: all the adjustments for the plot have to go into
the same notebook cell together with the plot statement itself.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>df.boxplot(column <span class="op">=</span> <span class="st">'buildings_in_compound'</span>, by <span class="op">=</span> <span class="st">'village'</span>)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>plt.suptitle(<span class="st">''</span>) <span class="co"># remove the automatic title</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>plt.title(<span class="st">'Buildings in compounds per village'</span>)   <span class="co"># add a title</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>plt.ylabel(<span class="st">'Number of buildings'</span>)   <span class="co"># add a y-axis title</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>plt.xlabel(<span class="st">''</span>)   <span class="co"># remove the x-axis title</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>plt.grid(<span class="va">None</span>)   <span class="co"># remove the grid lines</span></span></code></pre>
</div>
<figure><img src="fig/boxplot3.png" alt="png" class="figure mx-auto d-block"></figure><p>In general most graphs can be broken down into a series of elements
which, although typically related in some way, can all exist
independently of each other. This allows us to create the graph in a
rather piecemeal fashion. The labels (if any) on the x and y axis are
independent of the data values being represented. The title and the
legend are also independent objects within the overall graph. In
<code>matplotlib</code> you create the graph by providing values for all
of the individual components you choose to include.</p>
</section><section id="saving-a-graph"><h2 class="section-heading">Saving a graph<a class="anchor" aria-label="anchor" href="#saving-a-graph"></a>
</h2>
<hr class="half-width"><p>If you wish to save your graph as an image you can do so using the
<code>plt.savefig()</code> function. The image can be saved as a pdf,
jpg or png file by changing the file extension.
<code>plt.savefig()</code> needs to be called at the end of all your
plot statements in the same notebook cell.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>df.boxplot(column <span class="op">=</span> <span class="st">'buildings_in_compound'</span>, by <span class="op">=</span> <span class="st">'village'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>plt.suptitle(<span class="st">''</span>) <span class="co"># remove the automatic title</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>plt.title(<span class="st">'Buildings in compounds per village'</span>)   <span class="co"># add a title</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>plt.ylabel(<span class="st">'Number of buildings'</span>)   <span class="co"># add a y-axis title</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>plt.xlabel(<span class="st">''</span>)   <span class="co"># remove the x-axis title</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>plt.grid(<span class="va">None</span>)   <span class="co"># remove the grid lines</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>plt.savefig(<span class="st">'safi_boxplot_buildings.pdf'</span>)   <span class="co"># save as pdf file</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>plt.savefig(<span class="st">'safi_boxplot_buildings.png'</span>, dpi <span class="op">=</span> <span class="dv">150</span>)  <span class="co"># save as png file, some extra arguments are provided</span></span></code></pre>
</div>
<p>In general most graphs can be broken down into a series of elements
which, although typically related in some way, can all exist
independently of each other. This allows us to create the graph in a
rather piecemeal fashion.</p>
<p>The labels (if any) on the x and y axis are independent of the data
values being represented. The title and the legend are also independent
objects within the overall graph.</p>
<p>In Matplotlib you create the graph by providing values for all of the
individual components you choose to include. When you are ready, you
call the <code>show</code> function.</p>
<p>Using this same approach we can plot two sets of data on the same
graph. We will use a scatter plot to demonstrate some of the available
features.</p>
<div id="exercise-2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-2" class="callout-inner">
<h3 class="callout-title">Exercise<a class="anchor" aria-label="anchor" href="#exercise-2"></a>
</h3>
<div class="callout-content">
<p>Revisit your favorite plot we’ve made so far, or make one with your
own data then:</p>
<ol style="list-style-type: decimal"><li>add axes labels</li>
<li>add a title</li>
<li>add a legend</li>
<li>save it in two different formats</li>
</ol><p>extension: try plotting by wall and roof type!</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>Graphs can be drawn directly from Pandas, but it still uses
Matplotlib</li>
<li>Different graph types have different data requirements</li>
<li>Graphs are created from a variety of discrete components placed on a
‘canvas’, you don’t have to use them all</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="12-long-and-wide.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="14-sqlite.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="12-long-and-wide.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Wide and long data
        </a>
        <a class="chapter-link float-end" href="14-sqlite.html" rel="next">
          Next: Accessing SQLite... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/datacarpentry/python-socialsci/edit/main/episodes/13-matplotlib.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/datacarpentry/python-socialsci/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/python-socialsci/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/python-socialsci/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.2" class="external-link">sandpaper (0.16.2)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.3" class="external-link">pegboard (0.7.3)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.1" class="external-link">varnish (1.0.1)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://datacarpentry.github.io/python-socialsci/13-matplotlib.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Data visualisation using Matplotlib",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.github.io/python-socialsci/13-matplotlib.html",
  "identifier": "https://datacarpentry.github.io/python-socialsci/13-matplotlib.html",
  "dateCreated": "2017-05-25",
  "dateModified": "2023-05-04",
  "datePublished": "2024-03-05"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

